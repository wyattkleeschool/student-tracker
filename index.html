<!DOCTYPE html>
<html>
<head>
    <title>Class Period Tracker</title>
    <style>
        .page { display: none; }
        .active { display: block; }
        .student-btn {
            background: #4CAF50;
            color: white;
            padding: 15px;
            margin: 5px;
            border: none;
            cursor: pointer;
            width: 150px;
            text-align: center;
            font-size: 16px;
        }
        .yellow { background: #FFD700; }
        .red { background: #FF0000; }
        .referral { font-size: 12px; margin-top: 5px; }
        .reset-btn { margin: 20px 0; padding: 10px 20px; background: #2196F3; }
        .edit-btn { background: #FF9800; margin-left: 5px; }
        .edit-input { width: 100%; padding: 5px; margin: 5px 0; }
    </style>
</head>
<body>
    <!-- Navigation -->
    <div id="navButtons">
        <button onclick="showPage('page1')">Period 1</button>
        <button onclick="showPage('page2')">Period 2</button>
        <button onclick="showPage('page3')">Period 3</button>
        <button onclick="showPage('page4')">Period 4</button>
        <button onclick="showPage('page5')">Period 5</button>
        <button onclick="showPage('page6')">Period 6</button>
    </div>

    <!-- Page 1 -->
    <div class="page active" id="page1">
        <h2>Period 1</h2>
        <div id="period1"></div>
    </div>

    <!-- Page 2 -->
    <div class="page" id="page2">
        <h2>Period 2</h2>
        <div id="period2"></div>
    </div>

    <!-- Page 3 -->
    <div class="page" id="page3">
        <h2>Period 3</h2>
        <div id="period3"></div>
    </div>

    <!-- Page 4 -->
    <div class="page" id="page4">
        <h2>Period 4</h2>
        <div id="period4"></div>
    </div>

    <!-- Page 5 -->
    <div class="page" id="page5">
        <h2>Period 5</h2>
        <div id="period5"></div>
    </div>

    <!-- Page 6 -->
    <div class="page" id="page6">
        <h2>Period 6</h2>
        <div id="period6"></div>
    </div>

    <button class="reset-btn" onclick="resetAll()">Reset All</button>

    <script>
        // Create student buttons for each period
        const periods = ['page1', 'page2', 'page3', 'page4', 'page5', 'page6'];
        const studentNames = [
            'Alice', 'Bob', 'Charlie', 'David', 'Eve', 'Frank',
            'Grace', 'Hank', 'Ivy', 'Jake', 'Kate', 'Lucy',
            'Mike', 'Nina', 'Owen', 'P', 'Quinn', 'Ruth',
            'Sam', 'Tina', 'Uma', 'Vic', 'Wendy', 'Xander',
            'Yara', 'Zoe'
        ];

        // Initialize pages
        periods.forEach(period => {
            const container = document.getElementById(period);
            const grid = document.createElement('div');
            grid.style.display = 'grid';
            grid.style.gridTemplateColumns = 'repeat(auto-fit, minmax(150px, 1fr))';
            grid.style.gap = '10px';
            
            studentNames.forEach(name => {
                const btn = document.createElement('div');
                btn.className = 'student-btn';
                btn.innerHTML = `
                    <span>${name}</span>
                    <button class="edit-btn" onclick="editStudentName(this)">Edit</button>
                `;
                btn.dataset.count = '0';
                btn.dataset.lastPressed = '';
                btn.querySelector('span').onclick = () => logPress(btn);
                grid.appendChild(btn);
            });
            container.appendChild(grid);
        });

        // Page navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        // Log press functionality
        function logPress(btn) {
            const count = parseInt(btn.dataset.count) + 1;
            const timestamp = new Date().toLocaleString();
            
            // Update button state
            btn.dataset.count = count;
            btn.dataset.lastPressed = timestamp;
            
            // Update button appearance
            btn.classList.remove('yellow', 'red');
            if (count === 1) btn.classList.add('yellow');
            if (count === 2) btn.classList.add('red');
            if (count >= 3) {
                btn.innerHTML = `
                    <span>${btn.querySelector('span').textContent}</span>
                    <div class="referral">REFERRAL</div>
                    <button class="edit-btn" onclick="editStudentName(this)">Edit</button>
                `;
            }
            
            // Log to console
            console.log(`Pressed: ${btn.querySelector('span').textContent} | Count: ${count} | Time: ${timestamp}`);
        }

        // Student name editing
        function editStudentName(btn) {
            const span = btn.previousElementSibling;
            const input = document.createElement('input');
            input.className = 'edit-input';
            input.value = span.textContent;
            input.onblur = () => {
                span.textContent = input.value;
                btn.insertAdjacentElement('beforebegin', input);
                input.remove();
            };
            span.replaceWith(input);
            input.focus();
        }

        // Reset functionality
        function resetAll() {
            document.querySelectorAll('.student-btn').forEach(btn => {
                btn.classList.remove('yellow', 'red');
                btn.innerHTML = `
                    <span>${btn.dataset.originalName || btn.querySelector('span').textContent}</span>
                    <button class="edit-btn" onclick="editStudentName(this)">Edit</button>
                `;
                btn.dataset.count = '0';
                btn.dataset.lastPressed = '';
            });
        }
    </script>
</body>
</html>
